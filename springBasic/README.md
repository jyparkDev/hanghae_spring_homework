# 게시글 만들기

## 🔨 요구사항
#### 회원 가입
- username, password를 Client에서 전달받기
- username은  `최소 4자 이상, 10자 이하이며 알파벳 소문자(a~z), 숫자(0~9)`로 구성
- password는  `최소 8자 이상, 15자 이하이며 알파벳 대소문자(a~z, A~Z), 숫자(0~9)`로 구성
- 중복된 **username**이 없다면 회원을 저장
- Client로 메시지, 상태코드 반환하기
- 회원 권한 부여하기 (ADMIN, USER) - ADMIN 회원은 모든 게시글 수정 / 삭제 가능

#### 로그인
- username, password를 Client에서 전달받기
- username으로 조회된 회원이 있다면 password 비교하기
- 로그인 성공 시, 유저의 정보와 JWT를 활용하여 토큰을 발급하여 Header에 추가
- Client로 메시지, 상태코드 반환하기

#### 전체 게시글 목록 조회
- 제목, 작성자명(username), 작성 내용, 작성 날짜를 조회하기
- 작성 날짜 기준 내림차순으로 정렬하기

#### 게시글 작성 
- ~~토큰 검사 후 유효한 토큰일 경우에만 게시글 작성 가능~~ => Spring Security를 사용하여 토큰 검사 및 인증하기!
- 제목, 작성자명(username), 작성 내용을 저장
- 저장된 게시글을 Client 로 반환하기

#### 선택한 게시글 조회 
- 선택한 게시글의 제목, 작성자명(username), 작성 날짜, 작성 내용을 조회하기 

#### 선택한 게시글 수정
- ~~토큰 검사 후, 유효한 토큰이면서 해당 사용자가 작성한 게시글만 수정 가능~~ => Spring Security를 사용하여 토큰 검사 및 인증하기!
- 제목, 작성 내용을 수정하고 수정된 게시글을 Client 로 반환하기

#### 선택한 게시글 삭제 
- ~~토큰 검사 후, 유효한 토큰이면서 해당 사용자가 작성한 게시글만 삭제 가능~~ => Spring Security를 사용하여 토큰 검사 및 인증하기!
- 선택한 게시글을 삭제하고 Client 로 성공했다는 메시지, 상태코드 반환하기

## ✏ Usecase Diagram
![게시글_유스케이스](https://github.com/jyparkDev/hanghae_spring_homework/blob/main/springBasic/docs/usecase.png)

## 📜 ERD
![게시판 ERD](https://github.com/jyparkDev/hanghae_spring_homework/blob/main/springBasic/docs/erd.png)

## 📜 API Docs
<a href="https://github.com/jyparkDev/hanghae_spring_homework/blob/main/springBasic/docs/api_docs.md">[API문서보기]</a>


## ❓ 생각해보기(V1)
1. 수정, 삭제 API의 request를 어떤 방식으로 사용하셨나요? (param, query, body)
    - 데이터 수정 / 삭제를 위한 개인고유정보인 패스워드가 요구되기에 body에 담아 전송함으로 웹 상에 URL에 노출되지 않도록 하였다.
2. 어떤 상황에 어떤 방식의 request를 써야하나요?
    - 게시글 등록 - POST
    - 게시글 조회 - GET
    - 게시글 수정 - PUT
    - 게시글 삭제 - DELETE
3. RESTful한 API를 설계했나요? 어떤 부분이 그런가요? 어떤 부분이 그렇지 않나요?
    - URI를 통하여 board라는 자원과 {id} 통하여 자원의 고유번호를 식별가능하며, 단순 데이터를 응답하는 방식으로 설계하여 클라이언트와 서버 간 느슨하게 연결되어 있다.
4. 적절한 관심사 분리를 적용하였나요? (Controller, Repository, Service)
    -Controller에서는 단순 클라이언트로부터 요청을 분리하였으며, Service 계층에서는 해당 컨트롤러로부터 요청을 받아 처리해야할 작업들을 수행하였고, repository는 단순 DB와의 접근에만 집중하게 분리하였다.
5. API 명세서 작성 가이드라인을 검색하여 직접 작성한 API 명세서와 비교해보세요!
    - 작성 가이드와 비교해보았으며, swagger / spring rest docs 등을 주로 API 명세서를 만들기 위해 사용하고 있는 것 같다. 공통적인 사항들로 기능, 요청정보, 응답정보, 요청방식, 요청 URL 등을 기재한다.
    
## ❓ 생각해보기(V2)
1. 처음 설계한 API 명세서에 변경사항이 있었나요? 
변경 되었다면 어떤 점 때문 일까요? 첫 설계의 중요성에 대해 작성해 주세요!
    - 기존에는 게시글 관련하여 같은 테이블 안에 칼럼으로 함께 추가했으나, 회원관련 테이블을 분리함으로 테이블에 변경이 일어났고, 그에따라 전달되는 값들이 변경되면서 API 명세가 변경되었다.
2. ERD를 먼저 설계한 후 Entity를 개발했을 때 어떤 점이 도움이 되셨나요?
    - ERD를 설계하면서 테이블 간에 연관관계를 식별하여 entity를 설계할 때 연관관계 매핑을 어떻게 맺을 것인가와 DB를 통하여 데이터를 다룰 때 어떤 필드를 통해서 연결할지 식별하기 편했다.
3. JWT를 사용하여 인증/인가를 구현 했을 때의 장점은 무엇일까요?
    - 토큰 값을 통하여 회원을 식별할 수 있었고, 해당 토큰 값을 통하여 상태를 유지할 수 있었다.
4. 반대로 JWT를 사용한 인증/인가의 한계점은 무엇일까요?
5. 만약 댓글 기능이 있는 블로그에서 댓글이 달려있는 게시글을 삭제하려고 한다면 무슨 문제가 발생할까요? Database 테이블 관점에서 해결방법이 무엇일까요?
  - 참조 키에 의해서 참조하고 있는 값이 있다면 삭제할 때 에러가 발생한다. 그렇기에 이러한 문제를 해결하기 위해서는 cascade 옵션을 통해서 자동으로 차례대로 삭제될 수 있도록 할 수 있다.
6. IoC / DI 에 대해 간략하게 설명해 주세요!
  - 기존에는 필요한 객체를 직접 생성하여 사용하면서 강한결합이 형성된다. 즉, 변경이 발생함에 따라 연달아 변경이 발생하게 된다. 이러한 부분을 스프링에서는 컨테이너에 빈이라는 객체를 생성하고 필요한 부분에 스프링 컨테이너의 빈을 주입해줌으로 직접 의존성을 맺는 것이 아닌 스프링이 의존관계를 주입해줌으로 변경에 유리해진다.
    
